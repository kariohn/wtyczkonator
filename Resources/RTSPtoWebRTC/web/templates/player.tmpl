<html>
<meta http-equiv="Expires" content="0">
<meta http-equiv="Last-Modified" content="0">
<meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
<meta http-equiv="Pragma" content="no-cache">
<script type="text/javascript" src="../../static/js/jquery-3.4.1.min.js"></script>
<script src="../../static/js/bootstrap.min.js"></script>
<script src="../../static/js/adapter-latest.js"></script>
<style>
  #superdiv:hover{
    background-color: aliceblue;
  }
  #superdiv:active{
    background-color: yellow;
  }
</style>
<httpProtocol>
  <customHeaders>
      <add name="Access-Control-Allow-Origin" value="*" />
  </customHeaders>
</httpProtocol>
<div class="container" style="margin-top: 10px">
  <div class="row">
    <div class="col-3" style="overflow-y:auto; height: 354px; float:left; text-decoration: none; font-weight: bold; border:1px black solid; border-radius: 5px; background-color: whitesmoke; color: black; padding: 2px;">
      <div class="list-group">
        {{ range .suuidMap }}
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/68/Video_camera_icon.svg/1200px-Video_camera_icon.svg.png" height="10px">
        <a href="{{ . }}" id="{{ . }}" name="{{ . }}" id="superdiv" class="list-group-item list-group-item-action" style="text-decoration: none; padding-right: 2px;">{{ . }}</a><br>
        {{ end }}
      </div>
    </div>
    <div class="col" style="float:right">
      <input type="hidden" name="suuid" id="suuid" value="{{ .suuid }}">
      <input type="hidden" name="port" id="port" value="{{ .port }}">
      <input type="hidden" id="localSessionDescription" readonly="true">
      <input type="hidden" id="remoteSessionDescription">
      <div id="remoteVideos">
        <!-- <video style="width:600px" id="videoElem" autoplay muted controls></video><br> -->
        <iframe width='640' height='360' src='https://rtsp.me/embed/4Z44SS95/' frameborder='0' allowfullscreen></iframe><br>
        <div style="display: inline-flex; margin-left: 230px; text-align: center; margin-top: -354px; color:gainsboro;">
          <!--margin-left: 215px; margin-top: -335px;-->
          <img id="ikonka" src="" width="40"/>
          <pre id="info2"></pre>
        </div>
      </div>
  </div>
</div>
<script>
xhr = new XMLHttpRequest();
// xhr.open("GET", "http://api.weatherapi.com/v1/forecast.json?key=5a3caf4048444ec4b1d92247242406&q=54.466655066406574, 17.02515294105019&days=1&aqi=yes&alerts=no&lang=pl");
xhr.open("GET", "https://api.weatherapi.com/v1/forecast.json?key=5a3caf4048444ec4b1d92247242406&q=54.466655066406574, 17.02515294105019&days=1&aqi=yes&alerts=no&lang=pl");
xhr.send();
xhr.responseType = "json";
xhr.onload = () => {
  if (xhr.readyState == 4 && xhr.status == 200) {
    var jakoscPowietrza = Number(xhr.response.current.air_quality.o3);
    if(jakoscPowietrza<=70){
      jakoscPowietrza = "Bardzo Dobra";
    } else if (jakoscPowietrza>=71 && jakoscPowietrza<=120){
      jakoscPowietrza = "Dobra";
    } else if (jakoscPowietrza>=121 && jakoscPowietrza<=150){
      jakoscPowietrza = "Zadowalająca";
    } else if (jakoscPowietrza>=151 && jakoscPowietrza<=180){
      jakoscPowietrza = "Dostateczna";
    } else if (jakoscPowietrza>=181 && jakoscPowietrza<=240){
      jakoscPowietrza = "Zła";
    } else if (jakoscPowietrza>=241){
      jakoscPowietrza = "Bardzo Zła";
    }
    document.getElementById("info2").innerHTML = "  " + parseFloat(xhr.response.current.temp_c) + "°C   Jakość powietrza: " + jakoscPowietrza;
    document.getElementById("ikonka").src = xhr.response.current.condition.icon;
  } else {
    console.log(`Error: ${xhr.status}`);
  }
};
</script>
<script type="text/javascript" src="../../static/js/app.js?ver={{ .version }}"></script>
</html>
